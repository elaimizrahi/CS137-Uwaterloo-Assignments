#include <stdio.h>
#include <assert.h>
#include <stdbool.h>

int helper(int x, int y, int m, int n, int a[m][n]){
    if(x == m-1 && y == n-1){
        return 1;
    }    
   
    else if(x == m-1 && y != n-1){
        if(a[x][y+1] == 1){
            return helper(x, y+1, m, n, a);
        }
        else return 0;
    }       
    
    else if(x != m-1 && y == n-1){
        if(a[x+1][y] == 1){
            return helper(x+1, y, m, n, a);
        }
        else return 0;
    }
    


    else if(a[x][y] == 1){
        if(a[x+1][y] == 1 && a[x][y+1]==1){
            return helper(x+1, y, m, n, a) + helper(x, y+1, m, n, a);
        }
        else if(a[x+1][y] == 1){

            return helper(x+1, y, m, n, a);
        }        
        else if(a[x][y+1] == 1){

            return helper(x, y+1, m, n, a);
        }
        

        else return 0;
    }

    else return 0;
}


int monotonePath(int m, int n, int a[m][n]){
    if(a[0][0] == 1 && a[m-1][n-1] == 1){
        return helper(0,0, m, n, a);
    }

    else return 0;

}

int main(void){
    int m = 10;
int n = 12;
 int a[10][12] = {{1,1,0,0,0,0,0,0,0,0,0,0},
                  {0,1,1,0,0,0,0,0,0,0,0,0},
                  {0,0,1,1,1,1,0,0,0,0,0,0},
                  {0,0,0,0,0,1,0,0,0,0,0,0},
                  {0,0,0,0,0,1,1,0,0,0,0,0},
                  {0,0,0,0,0,0,1,0,0,0,0,0},
                  {0,0,0,0,0,0,1,1,1,0,0,0},
                  {0,0,0,0,0,0,0,0,1,0,0,0},
                  {0,0,0,0,0,0,0,0,1,1,1,0},
                  {0,0,0,0,0,0,0,0,0,0,1,1}
 };

 // a, but with one entry switched eliminating the monotone path
 int b[10][12]={{1,1,0,1,1,1,0,0,0,0,0,0},
                {1,1,1,0,0,0,1,1,0,0,0,0},
                {1,1,1,1,0,1,1,01,0,0,0,0},
                {1,1,1,0,0,1,1,1,1,0,0,0},
                {1,1,1,0,0,1,1,0,0,0,0,0},
                {0,1,0,0,0,0,1,0,0,0,0,0},
                {0,1,1,0,0,0,1,1,1,0,0,0},
                {0,0,1,0,0,0,0,0,1,0,0,0},
                {0,0,1,1,1,1,1,1,1,1,0,0},
                {0,0,0,0,1,1,0,0,0,0,0,1}
 };
  int c[10][12]={{1,1,1,1,1,1,1,1,1,0,0,0},
                {0,1,1,1,1,0,0,0,1,0,0,0},
                {0,0,1,1,0,1,0,0,1,0,0,0},
                {0,0,1,0,0,1,0,0,1,0,0,0},
                {0,1,1,0,0,1,1,0,1,0,0,0},
                {0,1,0,0,0,0,1,0,1,0,0,0},
                {0,1,1,0,0,0,1,1,1,0,0,0},
                {0,0,1,0,0,0,0,0,1,0,0,0},
                {0,0,1,1,1,1,1,1,1,1,1,0},
                {0,0,0,0,0,0,0,0,0,0,1,1}
 };
  int d[10][12]={{1,1,0,0,0,0,0,0,0,0,0,0},
                 {0,1,1,0,0,0,0,0,0,0,0,0},
                 {0,0,1,1,1,1,0,0,0,0,0,0},
                 {0,0,1,0,0,1,0,0,0,0,0,0},
                 {0,1,1,0,0,1,1,0,0,0,0,0},
                 {0,1,0,0,0,0,1,0,0,0,0,0},
                 {0,1,1,0,0,0,1,1,1,0,0,0},
                 {0,0,1,0,0,0,0,0,1,0,0,0},
                 {0,0,1,1,1,1,1,1,1,1,1,0},
                 {0,0,0,0,0,0,0,0,0,0,1,1}
 };
  int e[10][12]={{0,1,0,0,0,0,0,0,0,0,0,0},
                {0,1,1,0,0,0,0,0,0,0,0,0},
                {0,0,1,1,0,1,0,0,0,0,0,0},
                {0,0,1,0,0,1,0,0,0,0,0,0},
                {0,1,1,0,0,1,1,0,0,0,0,0},
                {0,1,0,0,0,0,1,0,0,0,0,0},
                {0,1,1,0,0,0,1,1,1,0,0,0},
                {0,0,1,0,0,0,0,0,1,0,0,0},
                {0,0,1,1,1,1,1,1,1,1,1,0},
                {0,0,0,0,0,0,0,0,0,0,1,0}
 };
 printf("%d",monotonePath(m, n, a));
 printf("%d",monotonePath(m, n, b));
 printf("%d",monotonePath(m, n, c));
 printf("%d",monotonePath(m, n, d));
 printf("%d",monotonePath(m, n, e));
 return 0;
}